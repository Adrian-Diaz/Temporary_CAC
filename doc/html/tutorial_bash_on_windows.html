

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Using LAMMPS with Bash on Windows &mdash; LAMMPS documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="LAMMPS documentation" href="index.html"/>
        <link rel="up" title="Tutorials" href="tutorials.html"/>
        <link rel="next" title="Body particles" href="body.html"/>
        <link rel="prev" title="PyLammps Tutorial" href="tutorial_pylammps.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="Manual.html" class="icon icon-home"> LAMMPS
        

        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <p class="caption"><span class="caption-text">User Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Section_intro.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_start.html">2. Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_commands.html">3. Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_packages.html">4. Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_accelerate.html">5. Accelerating LAMMPS performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_howto.html">6. How-to discussions</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_example.html">7. Example problems</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_perf.html">8. Performance &amp; scalability</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_tools.html">9. Additional tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_modify.html">10. Modifying &amp; extending LAMMPS</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_python.html">11. Python interface to LAMMPS</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_errors.html">12. Errors</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_history.html">13. Future and history</a></li>
</ul>
<p class="caption"><span class="caption-text">Index</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="tutorials.html">Tutorials</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="tutorial_drude.html">Tutorial for Thermalized Drude oscillators in LAMMPS</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_github.html">LAMMPS GitHub tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_pylammps.html">PyLammps Tutorial</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Using LAMMPS with Bash on Windows</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#installing-bash-on-windows">Installing Bash on Windows</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="#enable-developer-mode">Enable developer mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="#install-windows-subsystem-for-linux">Install Windows Subsystem for Linux</a></li>
<li class="toctree-l4"><a class="reference internal" href="#install-bash-for-windows">Install Bash for Windows</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#compiling-lammps-in-bash-on-windows">Compiling LAMMPS in Bash on Windows</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#installing-prerequisite-packages">Installing prerequisite packages</a></li>
<li class="toctree-l4"><a class="reference internal" href="#files-in-ubuntu-on-windows">Files in Ubuntu on Windows</a></li>
<li class="toctree-l4"><a class="reference internal" href="#download-lammps">Download LAMMPS</a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiling-lammps">Compiling LAMMPS</a></li>
<li class="toctree-l4"><a class="reference internal" href="#running-an-example-script">Running an example script</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="body.html">Body particles</a></li>
<li class="toctree-l2"><a class="reference internal" href="manifolds.html">Manifolds (surfaces)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="commands.html">Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="fixes.html">Fixes</a></li>
<li class="toctree-l1"><a class="reference internal" href="computes.html">Computes</a></li>
<li class="toctree-l1"><a class="reference internal" href="pairs.html">Pair Styles</a></li>
<li class="toctree-l1"><a class="reference internal" href="bonds.html">Bond Styles</a></li>
<li class="toctree-l1"><a class="reference internal" href="angles.html">Angle Styles</a></li>
<li class="toctree-l1"><a class="reference internal" href="dihedrals.html">Dihedral Styles</a></li>
<li class="toctree-l1"><a class="reference internal" href="impropers.html">Improper Styles</a></li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="Manual.html">LAMMPS</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <div style="text-align: center; margin-bottom: -1.5em; display: block"><b>LAMMPS</b> 16 Mar 2018</div>
  <ul class="wy-breadcrumbs">
    <li><a href="Manual.html">Docs</a> &raquo;</li>
      
          <li><a href="tutorials.html">Tutorials</a> &raquo;</li>
      
    <li>Using LAMMPS with Bash on Windows</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="http://lammps.sandia.gov">Website</a>
            <a href="Section_commands.html#comm">Commands</a>
        
      </li>
  </ul>
  <hr/>
  
    <div class="rst-footer-buttons" style="margin-bottom: 1em" role="navigation" aria-label="footer navigation">
      
        <a href="body.html" class="btn btn-neutral float-right" title="Body particles" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="tutorial_pylammps.html" class="btn btn-neutral" title="PyLammps Tutorial" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="using-lammps-with-bash-on-windows">
<h1>Using LAMMPS with Bash on Windows</h1>
<p><strong>written by Richard Berger</strong></p>
<hr class="docutils" />
<p>Starting with Windows 10 you can install Linux tools directly in Windows. This
allows you to compile LAMMPS following the same procedure as on a real Ubuntu
Linux installation. Software can be easily installed using the package manager
via apt-get and all files are accessible in both the Windows Explorer and your
Linux shell (bash). This avoids switching to a different operating system or
installing a virtual machine. Everything runs on Windows.</p>
<div class="section" id="installing-bash-on-windows">
<h2>Installing Bash on Windows</h2>
<div class="section" id="prerequisites">
<h3>Prerequisites</h3>
<ul class="simple">
<li>Windows 10 (64bit only)</li>
<li>Latest updates installed</li>
</ul>
</div>
<div class="section" id="enable-developer-mode">
<h3>Enable developer mode</h3>
<p>You enable this feature by first opening Windows Settings and enabling
Developer mode. Go to the Windows settings and search for “developer”. This
will allow you to install software which comes from outside of the Windows
Store.  You might be prompted to reboot your compute. Please do so.</p>
<a class="reference external image-reference" href="JPG/bow_tutorial_01.png"><img alt="_images/bow_tutorial_01_small.png" src="_images/bow_tutorial_01_small.png" /></a>
<a class="reference external image-reference" href="JPG/bow_tutorial_02.png"><img alt="_images/bow_tutorial_02_small.png" src="_images/bow_tutorial_02_small.png" /></a>
<a class="reference external image-reference" href="JPG/bow_tutorial_03.png"><img alt="_images/bow_tutorial_03_small.png" src="_images/bow_tutorial_03_small.png" /></a>
</div>
<div class="section" id="install-windows-subsystem-for-linux">
<h3>Install Windows Subsystem for Linux</h3>
<p>Next you must ensure that the Window Subsystem for Linux is installed. Again,
search for “enable windows features” in the Settings dialog. This opens a
dialog with a list of features you can install. Add a checkmark to Windows
Subsystem for Linux (Beta) and press OK.</p>
<a class="reference external image-reference" href="JPG/bow_tutorial_04.png"><img alt="_images/bow_tutorial_04_small.png" src="_images/bow_tutorial_04_small.png" /></a>
<a class="reference external image-reference" href="JPG/bow_tutorial_05.png"><img alt="_images/bow_tutorial_05.png" src="_images/bow_tutorial_05.png" /></a>
</div>
<div class="section" id="install-bash-for-windows">
<h3>Install Bash for Windows</h3>
<p>After installation completes, type “bash” in the Windows Start menu search.
Select the first found option. This will launch a command-line window which
will prompt you about installing Ubuntu on Windows. Confirm with “y” and press
enter. This will then download Ubuntu for Windows.</p>
<img alt="_images/bow_tutorial_06.png" src="_images/bow_tutorial_06.png" />
<img alt="_images/bow_tutorial_07.png" src="_images/bow_tutorial_07.png" />
<p>During installation, you will be asked for a new password. This will be used
for installing new software and running commands with sudo.</p>
<img alt="_images/bow_tutorial_08.png" src="_images/bow_tutorial_08.png" />
<p>Type exit to close the command-line window.</p>
<p>Go to the Start menu and type “bash” again. This time you will see a “Bash on
Ubuntu on Windows” Icon. Start this program.</p>
<img alt="_images/bow_tutorial_09.png" src="_images/bow_tutorial_09.png" />
<p>Congratulations, you have installed <strong>Bash on Ubuntu on Windows</strong>.</p>
<img alt="_images/bow_tutorial_10.png" src="_images/bow_tutorial_10.png" />
</div>
</div>
<hr class="docutils" />
<div class="section" id="compiling-lammps-in-bash-on-windows">
<h2>Compiling LAMMPS in Bash on Windows</h2>
<p>The installation of LAMMPS in this environment is identical to working inside
of a real Ubuntu Linux installation. At the time writing, it uses Ubuntu 16.04.</p>
<div class="section" id="installing-prerequisite-packages">
<h3>Installing prerequisite packages</h3>
<p>First upgrade all existing packages using</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span> <span class="n">update</span>
<span class="n">sudo</span> <span class="n">apt</span> <span class="n">upgrade</span> <span class="o">-</span><span class="n">y</span>
</pre></div>
</div>
<p>Next install the following packages, which include compilers and libraries
needed for various LAMMPS features:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="o">-</span><span class="n">y</span> <span class="n">build</span><span class="o">-</span><span class="n">essential</span> <span class="n">ccache</span> <span class="n">gfortran</span> <span class="n">openmpi</span><span class="o">-</span><span class="nb">bin</span> <span class="n">libopenmpi</span><span class="o">-</span><span class="n">dev</span> <span class="n">libfftw3</span><span class="o">-</span><span class="n">dev</span> <span class="n">libjpeg</span><span class="o">-</span><span class="n">dev</span> <span class="n">libpng12</span><span class="o">-</span><span class="n">dev</span> <span class="n">python</span><span class="o">-</span><span class="n">dev</span> <span class="n">python</span><span class="o">-</span><span class="n">virtualenv</span> <span class="n">libblas</span><span class="o">-</span><span class="n">dev</span> <span class="n">liblapack</span><span class="o">-</span><span class="n">dev</span> <span class="n">libhdf5</span><span class="o">-</span><span class="n">serial</span><span class="o">-</span><span class="n">dev</span> <span class="n">hdf5</span><span class="o">-</span><span class="n">tools</span>
</pre></div>
</div>
</div>
<div class="section" id="files-in-ubuntu-on-windows">
<h3>Files in Ubuntu on Windows</h3>
<p>When you launch “Bash on Ubuntu on Windows” you will start out in your Linux
user home directory /home/<strong>username</strong>. You can access your Windows user directory
using the /mnt/c/Users/<strong>username</strong> folder.</p>
</div>
<div class="section" id="download-lammps">
<h3>Download LAMMPS</h3>
<p>Obtain a copy of the LAMMPS code and go into it using “cd”</p>
<div class="section" id="option-1-downloading-lammps-tarball-using-wget">
<h4>Option 1: Downloading LAMMPS tarball using wget</h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">wget</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">lammps</span><span class="o">.</span><span class="n">sandia</span><span class="o">.</span><span class="n">gov</span><span class="o">/</span><span class="n">tars</span><span class="o">/</span><span class="n">lammps</span><span class="o">-</span><span class="n">stable</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
<span class="n">tar</span> <span class="n">xvzf</span> <span class="n">lammps</span><span class="o">-</span><span class="n">stable</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
<span class="n">cd</span> <span class="n">lammps</span><span class="o">-</span><span class="mi">31</span><span class="n">Mar17</span>
</pre></div>
</div>
</div>
<div class="section" id="option-2-obtaining-lammps-code-from-github">
<h4>Option 2: Obtaining LAMMPS code from GitHub</h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">lammps</span><span class="o">/</span><span class="n">lammps</span><span class="o">.</span><span class="n">git</span>
<span class="n">cd</span> <span class="n">lammps</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="compiling-lammps">
<h3>Compiling LAMMPS</h3>
<p>At this point you can compile LAMMPS like on Ubuntu Linux.</p>
<div class="section" id="compiling-serial-version">
<h4>Compiling serial version</h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">src</span><span class="o">/</span>
<span class="n">make</span> <span class="o">-</span><span class="n">j</span> <span class="mi">4</span> <span class="n">serial</span>
</pre></div>
</div>
<p>This will create an executable called lmp_serial in the src/ directory</p>
</div>
<div class="section" id="compiling-mpi-version">
<h4>Compiling MPI version</h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">src</span><span class="o">/</span>
<span class="n">make</span> <span class="o">-</span><span class="n">j</span> <span class="mi">4</span> <span class="n">mpi</span>
</pre></div>
</div>
<p>This will create an executable called lmp_mpi in the src/ directory</p>
<hr class="docutils" />
<p>Finally, please note the absolute path of your src folder. You can get this using</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pwd</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>echo $PWD
</pre></div>
</div>
<p>To run any examples you need the location of the executable. For now, let us
save this location in a temporary variable</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>LAMMPS_DIR=$PWD
</pre></div>
</div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="running-an-example-script">
<h3>Running an example script</h3>
<p>Once compiled you can execute some of the LAMMPS examples. Switch into the
examples/melt folder</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">../</span><span class="n">examples</span><span class="o">/</span><span class="n">melt</span>
</pre></div>
</div>
<p>The full path of the serial executable is $LAMMPS_DIR/lmp_serial, while the mpi
version is $LAMMPS_DIR/lmp_mpi. You can run the melt example with either
version as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$LAMMPS_DIR/lmp_serial -in in.melt
</pre></div>
</div>
<p>or</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>mpirun -np 4 $LAMMPS_DIR/lmp_mpi -in in.melt
</pre></div>
</div>
<p>Note the use of our variable $LAMMPS_DIR, which expands into the full path of
the LAMMPS src folder we saved earlier.</p>
<div class="section" id="adding-your-executable-directory-to-your-path">
<h4>Adding your executable directory to your PATH</h4>
<p>You can avoid having to type the full path of your LAMMPS binary by adding its
parent folder to the PATH environment variable as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>export PATH=$LAMMPS_DIR:$PATH
</pre></div>
</div>
<p>Input scripts can then be run like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">lmp_serial</span> <span class="o">-</span><span class="ow">in</span> <span class="ow">in</span><span class="o">.</span><span class="n">melt</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mpirun</span> <span class="o">-</span><span class="n">np</span> <span class="mi">4</span> <span class="n">lmp_mpi</span> <span class="o">-</span><span class="ow">in</span> <span class="ow">in</span><span class="o">.</span><span class="n">melt</span>
</pre></div>
</div>
<p>However, this PATH variable will not persist if you close your bash window.
To persist this setting edit the $HOME/.bashrc file using your favorite editor
and add this line</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>export PATH=/full/path/to/your/lammps/src:$PATH
</pre></div>
</div>
<p><strong>Example:</strong></p>
<p>For an executable lmp_serial with a full path</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">richard</span><span class="o">/</span><span class="n">lammps</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">lmp_serial</span>
</pre></div>
</div>
<p>the PATH variable should be</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>export PATH=/home/richard/lammps/src:$PATH
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This should give you a jump start when trying to run LAMMPS on Windows.
To become effective in this environment I encourage you to look into Linux
tutorials explaining Bash and Basic Unix commands (e.g., <a class="reference external" href="https://linuxjourney.com">Linux Journey</a>)</p>
</div>
</div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="body.html" class="btn btn-neutral float-right" title="Body particles" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="tutorial_pylammps.html" class="btn btn-neutral" title="PyLammps Tutorial" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2013 Sandia Corporation.
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>